define(function (){	var headerHTML = "";	/*	*   header view / bottom view / channel view	*/	var headViewFoo = {};	headViewFoo.home_template = function (){		var html = "";		html += '<ul class="headView-home">';		html += '<li><a href="javascript:void(0)">广场</a></li>';		html += '<li><a href="javascript:void(0)">周边</a></li>';		html += '<li><a href="javascript:void(0)">朋友们</a></li>';		html += '</ul>';		return html;	};	headViewFoo.home_func = function (){	};	headViewFoo.home = function (){		var html = headViewFoo.home_template();		headerHTML += html;		headViewFoo.home_func();	};	/*	*	*   app init	*	* */	var app = function (config){		//参数判断		if(!config || typeof config != "object"){			console.error("App router muest be requires  2 parameters!");			return;		}		if(!config.baseUrl || typeof config.baseUrl != "string"){			console.error("baseUrl must be a String!");			return;		}		if(!config.application || typeof config.application != "object"){			console.error("application must be a Object");			return;		}		this.options = {};		this.options.baseUrl = config.baseUrl;		this.options.application = config.application;		this.init();	};	app.prototype.init = function (options){		var requireModule = [],			 paths = [];		for(var i in this.options.application){			requireModule.push(this.options.baseUrl + this.options.application[i]);			paths.push(i);		}		this.setRouters(requireModule,paths);	};	app.prototype.setRouters = function (requireModule,paths){		var setViews = function (){			//先把之前的元素kill掉			$("section").remove();			var channel = location.hash.slice(1),				now;			label:for(var i= 0,len=paths.length;i<len;i++){				if(channel == paths[i].slice(1)){					now = i;					break label;				}			}			//view 初始化			var cViews = arguments[0][now];			//views onCreate			/*			*   title			*   style			*   btn-left,btn-right,btn-left-callback,btn-right-callback			*/			if(cViews.onCreate && typeof cViews.onCreate == "function"){				//创建头部和尾部				var headView = cViews.onCreate();				var style = headView.style;				if(style == 1){					headViewFoo.home();				}			}			$("header").html(headerHTML);			sectionHTML = "";		};		require(requireModule,function mod(){			var router = {};			var now = 0;			setViews(arguments);			//第一个函数直接执行，不走hash			arguments[0].onLoad();			//将函数赋值给hash			for(var i= 0,len=requireModule.length;i<len;i++){				router[paths[i]] = arguments[i].onLoad;			}			//创建路由			var r = new Router(router).configure({				notfound : function (){					$("section").remove();					$("#main").html("<h1>404 NOT FOUND</h1>");				}			}).init();		});	};	return app;});