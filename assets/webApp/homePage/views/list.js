define(['libs','query','loading', template('list')],function (libs,query,Loading,html){	var loading = new Loading();	var main = $("#main");	var title = $(".navTitle");	var bc = title.find(".nav-broadcast");	var team = title.find(".nav-group");	//添加数据	var loadData = function (data,type){		if(type != "add") type = "init";		//将数据赋给模板		var tpl = _.template(html);		var res = tpl(data);		type == "init" ? main.html(res) : main.append(res);		//重新绑定		swipeChangeData();	};	var nowStatus = "left";	//切换为组队列表	var changeToMakeTeam = function (){		if(nowStatus != "left") return;		nowStatus = "right";		$(window).scrollTop(0);		loadData({data:{makeTeam:[{},{},{},{},{}],status:"right"}});	};	//切换为广播类表	var changeToBroadcast = function (){		if(nowStatus != "right") return;		nowStatus = "left";		$(window).scrollTop(0);		loadData({data:{broadcast:[{},{},{},{},{}],status:"left"}});	};	var swipeChangeData = function (){		$("#MAIN-BROADCAST").on("swipeLeft",changeToMakeTeam).on("swipeRight",changeToBroadcast);		$(".nav-broadcast").on("tap",changeToBroadcast);		$(".nav-group").on("tap",changeToMakeTeam);	};	return {		before : function (){		},		after : function (){			nowStatus = "left";		},		onCreate : function (){			loading.show();			var headView = {};			//首页的style 为 1			headView.style = 1;			return headView;		},		onLoad : function (){			//footer样式切换			$("footer ul li").removeClass("active").eq(0).addClass("active");			loadData({data:{broadcast:[{},{},{},{},{},{},{},{}]}});			loading.hide();			swipeChangeData();		}	}});